<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stars Arena</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; }
        body { background: #0a0f1e; color: white; display: flex; justify-content: center; align-items: center; min-height: 100vh; }
        .container { max-width: 400px; width: 100%; padding: 20px; }
        .header { display: flex; justify-content: space-between; background: #1a1f30; padding: 15px; border-radius: 15px; margin-bottom: 20px; }
        .balance { display: flex; gap: 5px; }
        .balance-value { color: #ffd700; font-weight: bold; }
        .bank { background: #1a1f30; padding: 20px; border-radius: 15px; text-align: center; margin-bottom: 20px; }
        .bank-value { font-size: 48px; color: #ffd700; font-weight: bold; }
        .profile-card { background: #1a1f30; padding: 20px; border-radius: 15px; }
        .profile-actions { display: flex; gap: 10px; margin-bottom: 20px; }
        .profile-action { flex: 1; padding: 15px; border: none; border-radius: 10px; font-weight: bold; cursor: pointer; }
        .deposit-btn { background: #4a90e2; color: white; }
        .withdraw-btn { background: #2a2f45; color: white; }
        .bottom-nav { display: flex; gap: 10px; margin-top: 20px; background: #1a1f30; padding: 10px; border-radius: 15px; }
        .nav-btn { flex: 1; padding: 10px; border: none; background: transparent; color: #8e9ab0; border-radius: 10px; cursor: pointer; }
        .nav-btn.active { background: #4a90e2; color: white; }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        .deposit-section { margin-top: 20px; }
        .deposit-input { width: 100%; padding: 15px; background: #1a1f30; border: 2px solid #2a2f45; border-radius: 10px; color: white; margin-bottom: 10px; }
        .deposit-submit { width: 100%; padding: 15px; background: #4a90e2; border: none; border-radius: 10px; color: white; font-weight: bold; cursor: pointer; }
    </style>
</head>
<body>
    <div class="container">
        <!-- –®–∞–ø–∫–∞ -->
        <div class="header">
            <div class="balance">
                <span class="balance-value" id="balance">0</span>
                <span>‚≠ê</span>
            </div>
            <div id="username">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
        </div>

        <!-- –í–∫–ª–∞–¥–∫–∏ -->
        <div class="bottom-nav">
            <button class="nav-btn active" onclick="showTab('pvp')">PVP</button>
            <button class="nav-btn" onclick="showTab('profile')">–ü—Ä–æ—Ñ–∏–ª—å</button>
        </div>

        <!-- –≠–∫—Ä–∞–Ω PVP -->
        <div id="pvp-tab" class="tab-content active">
            <div class="bank">
                <div>–ë–ê–ù–ö</div>
                <div class="bank-value" id="bank">0</div>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω –ü—Ä–æ—Ñ–∏–ª—å -->
        <div id="profile-tab" class="tab-content">
            <div class="profile-card">
                <div class="profile-actions">
                    <button class="profile-action deposit-btn" onclick="showDeposit()">üì• –ü–æ–ø–æ–ª–Ω–∏—Ç—å</button>
                    <button class="profile-action withdraw-btn" onclick="showWithdraw()">üì§ –í—ã–≤–µ—Å—Ç–∏</button>
                </div>
                <div>–ë–∞–ª–∞–Ω—Å: <span id="profile-balance">0</span> ‚≠ê</div>
            </div>
        </div>
    </div>

    <script>
        let tg = window.Telegram.WebApp;
        tg.ready();
        tg.expand();

        let userBalance = 0;

        function updateUI() {
            document.getElementById('balance').innerText = userBalance;
            document.getElementById('profile-balance').innerText = userBalance;
        }

        function showTab(tab) {
            document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
            document.getElementById(tab + '-tab').classList.add('active');

            document.querySelectorAll('.nav-btn').forEach(el => el.classList.remove('active'));
            event.target.classList.add('active');
        }

        function showDeposit() {
            let amount = prompt('–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è (–æ—Ç 10‚≠ê):');
            if (amount) {
                amount = parseInt(amount);
                if (amount >= 10) {
                    tg.sendData(JSON.stringify({
                        action: 'deposit',
                        amount: amount
                    }));

                    tg.showPopup({
                        title: '–ó–∞–ø—Ä–æ—Å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω',
                        message: '–û–∂–∏–¥–∞–π—Ç–µ —Å—á—ë—Ç –æ—Ç –±–æ—Ç–∞',
                        buttons: [{ type: 'ok' }]
                    });

                    tg.close();
                } else {
                    tg.showAlert('‚ùå –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞: 10‚≠ê');
                }
            }
        }

        function showWithdraw() {
            tg.showAlert('–í—ã–≤–æ–¥ –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω');
        }

        updateUI();
    </script>
</body>
</html>